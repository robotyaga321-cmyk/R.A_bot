<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Telegram RPG</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: sans-serif;
            background-color: var(--tg-theme-bg-color); /* –¶–≤–µ—Ç–∞ –∏–∑ —Ç–µ–º—ã Telegram */
            color: var(--tg-theme-text-color);
            text-align: center;
            padding: 20px;
        }
        .stats {
            background: var(--tg-theme-secondary-bg-color);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-around;
        }
        #monster {
            font-size: 50px;
            margin: 20px 0;
        }
        button {
            background-color: var(--tg-theme-button-color);
            color: var(--tg-theme-button-text-color);
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
        }
    </style>
</head>
<body>

    <h2>–ü—Ä–∏–≤–µ—Ç, <span id="username">–ì–µ—Ä–æ–π</span>! üõ°Ô∏è</h2>

    <div class="stats">
        <div>üí∞ –ó–æ–ª–æ—Ç–æ: <span id="gold">0</span></div>
        <div>‚ù§Ô∏è HP –ú–æ–Ω—Å—Ç—Ä–∞: <span id="monster-hp">50</span></div>
    </div>

    <div id="monster">üëæ</div>

    <button id="attack-btn">–£–¥–∞—Ä–∏—Ç—å –º–æ–Ω—Å—Ç—Ä–∞! ‚öîÔ∏è</button>

    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram Web App
        const tg = window.Telegram.WebApp;
        tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
        if (tg.initDataUnsafe.user) {
            document.getElementById('username').innerText = tg.initDataUnsafe.user.first_name;
        }

        let gold = 0;
        let monsterHp = 50;

        const goldEl = document.getElementById('gold');
        const hpEl = document.getElementById('monster-hp');
        const attackBtn = document.getElementById('attack-btn');

        attackBtn.addEventListener('click', () => {
            if (monsterHp > 0) {
                monsterHp -= 10;
                gold += 5;
                
                // –û–±–Ω–æ–≤–ª—è–µ–º —ç–∫—Ä–∞–Ω
                hpEl.innerText = monsterHp;
                goldEl.innerText = gold;

                if (monsterHp <= 0) {
                    document.getElementById('monster').innerText = '‚ö∞Ô∏è';
                    attackBtn.innerText = '–ü–æ–±–µ–¥–∞! üéâ';
                    tg.HapticFeedback.notificationOccurred('success'); // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –ø–æ–±–µ–¥–µ
                } else {
                    tg.HapticFeedback.impactOccurred('medium'); // –õ–µ–≥–∫–∞—è –≤–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ —É–¥–∞—Ä–µ
                }
            }
        });
    </script>
</body>
</html>
